import React, {Component} from 'react'
import {connect} from 'react-redux'

import {search, filterBrands} from 'Actions'
import "./style.css"
import Search from 'Components/Search'
import FilterCheckboxes from 'Components/Filter'

class AppSidebar extends Component{
	render(){
		const {sum, amountsCart} = this.props
		return(
			<div className="app-sidebar">
				<div className="app-sidebar__path">
					<div className="app-sidebar__subtitle">Cart:</div>
			 		<div className="app-sidebar__sum-cart"><b>{amountsCart}</b> items = <b>${sum}</b></div>
			 	</div>
			 	<div className="app-sidebar__path">
			 		<div className="app-sidebar__subtitle">Search:</div>
			 		<Search onChangeSearch={this.props.search} />
			 	</div>
			 	<div className="app-sidebar__path">
			 		<div className="app-sidebar__subtitle">Brands:</div>
			 		<FilterCheckboxes onChangeCheckboxes={this.props.filterBrands} />
			 	</div>
			</div>
		)
	}
}

const mapStateToProps = (state) => {
	// return ({
	// 	sum: state.cart.sum,
	// 	amountsCart: Object.values(state.cart.ids).reduce( (total, item) => total+=item, 0 )
	// })
}

const mapDispatchToProps = (dispatch) => {
	return({
		search: (letters) => dispatch( search(letters) ),
		filterBrands: (checkboxes) => dispatch( filterBrands(checkboxes) )
	})
}

export default connect(mapStateToProps, mapDispatchToProps)(AppSidebar)