import {ADD_CART} from 'constans.js'

const initialState = {
	sum: 0,
	ids: {}
}

export default (state = initialState, action) => {
	const {type, payload} = action
	switch( type ){
		case ADD_CART:
			console.log( state.sum, payload.price, typeof(state.sum), typeof(payload.price) )
			return {
				sum: state.sum + (+payload.price),
				ids: {...state.ids, [payload.id]: state.ids[payload.id] ? state.ids[payload.id] + 1 : 1}
			}
		default:
			return state
	}
}